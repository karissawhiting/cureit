[{"path":"http://www.karissawhiting.com/cureit/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 Karissa Whiting Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://www.karissawhiting.com/cureit/articles/cure-model-analysis-example.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Cure Model Analysis Example","text":"package allows easily build report cure mixture models. modeling functions wrappers smcure() function {smcure} package several functions available diagnose visualize cure model results.","code":""},{"path":"http://www.karissawhiting.com/cureit/articles/cure-model-analysis-example.html","id":"example-data-set","dir":"Articles","previous_headings":"","what":"Example data set","title":"Cure Model Analysis Example","text":"using publicly available data 205 stage melanoma patients Department Plastic Surgery, University Hospital Odense, Denmark 1962 1977. data available {ISwR} package (Dalgaard, 2008). Variables include: - ulc - ulceration status - thick - tumor thickness mm - sex - sex created categorized version tumor thickness calculate overall survival, consider death melanoma event. Patients died cause lost follow-censored.","code":"df <- ISwR::melanom  mel <- ISwR::melanom %>%   mutate(status = case_when(status %in% c(1) ~ 1,                              status %in% c(2, 3) ~ 0)) %>%   mutate(thick_cat =                case_when(thick <= 129 ~ \"≤ 129\",                          thick <= 322 ~ \"less equal 322\",                          thick > 322 ~ \"greater 322\")) %>%   mutate(thick_cat = fct_relevel(thick_cat, \"≤ 129\", \"≤ 322\")) %>%   mutate(sex = case_when(sex == 2 ~ \"male\",                           sex == 1 ~ \"female\"),          ulc = case_when(ulc == 1 ~ \"present\",                           ulc == 2 ~ \"absent\"))  mel %>%   select(thick_cat, sex, ulc) %>%   tbl_summary() %>%   bold_labels() fit <- survfit(Surv(days/365, status) ~ ulc, data = mel)  fit %>% ggsurvplot()"},{"path":"http://www.karissawhiting.com/cureit/articles/cure-model-analysis-example.html","id":"fitting-the-cure-model","dir":"Articles","previous_headings":"","what":"Fitting the Cure Model","title":"Cure Model Analysis Example","text":"cureit() function wrapper smcure::smcure(). ca","code":"fit <- cureit(surv_formula = Surv(days, status) ~ ulc + sex + thick_cat,               cure_formula = ~ ulc + sex + thick_cat, data = mel) tidy_mods <- tidy(fit)  tbl_regression(fit, tidy_fun = tidy.cureit) %>% bold_labels()  tidy_df <- left_join(fit$tidy$df_cure, fit$tidy$df_surv)"},{"path":"http://www.karissawhiting.com/cureit/articles/cure-model-analysis-example.html","id":"k-index","dir":"Articles","previous_headings":"","what":"K-Index","title":"Cure Model Analysis Example","text":"calculate K C indicies model","code":"library(ROCR)    mod_data <- mel %>%   mutate(sex = as.integer(as.factor(sex))-1)   mm <- model.matrix(~ulc + sex +                    thick_cat, data = mod_data)[, -1]  mod2 <- mod_data %>%   dplyr::select(days, status) %>%   cbind(mm)    k_fit <- evacure::smcure1(Surv(days, status) ~ ulcpresent +                              sex +                              `thick_catgreater 322` +                              `thick_catless equal 322`,       cureform = ~ ulcpresent +                              sex +                              `thick_catgreater 322` +                              `thick_catless equal 322`,       data = mod2,       model = \"ph\",       nboot = 200,       Var = T       ) k_index <- k_fit$eva[\"K\"] c_index <- k_fit$eva[\"C\"]   tribble(   ~\"Statistic\", ~\"Value\",    \"k-index\", k_index,    \"c-index\", c_index) %>%   mutate_if(is.numeric, ~round(.x, 3)) %>%   gt() %>%   gt::tab_options(table.font.size = \"small\",          data_row.padding = gt::px(1),         summary_row.padding = gt::px(1),          grand_summary_row.padding = gt::px(1),         footnotes.padding = gt::px(1),          source_notes.padding = gt::px(1),         row_group.padding = gt::px(1))"},{"path":"http://www.karissawhiting.com/cureit/articles/cure-model-analysis-example.html","id":"calibration-curve","dir":"Articles","previous_headings":"","what":"Calibration Curve","title":"Cure Model Analysis Example","text":"","code":"cure_calibration(fit, prediction_time = 1000)"},{"path":"http://www.karissawhiting.com/cureit/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Karissa Whiting. Author, maintainer. Teng Fei. Author.","code":""},{"path":"http://www.karissawhiting.com/cureit/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Whiting K, Fei T (2022). cureit: package build evaluate cure models. R package version 0.0.0.9000, http://www.karissawhiting.com/cureit/.","code":"@Manual{,   title = {cureit: A package to build and evaluate cure models},   author = {Karissa Whiting and Teng Fei},   year = {2022},   note = {R package version 0.0.0.9000},   url = {http://www.karissawhiting.com/cureit/}, }"},{"path":"http://www.karissawhiting.com/cureit/index.html","id":"cure-model-pipeline","dir":"","previous_headings":"","what":"A package to build and evaluate cure models","title":"A package to build and evaluate cure models","text":"goal package provide easy way build, evaluate visualize mixture cure models (link paper draft)","code":""},{"path":"http://www.karissawhiting.com/cureit/index.html","id":"available-functions","dir":"","previous_headings":"","what":"Available Functions","title":"A package to build and evaluate cure models","text":"fit_cure() - wrapper smcure::smcure() function allows pass multilevel variables factors directly (instead first creating dummy codes). also saves outputs necessary create nomogram. nomogram()- - accepts object created fit_cure() creates graphical nomogram based model fit cure_calibration() - accepts object created fit_cure() creates calibration curve uncured patients multiple_mod_runs()- allows check stability models running multiple times viewing distributions variables p-values. k-index C-index wrapper functions tidyr function better clean/view coefficients cure model","code":""},{"path":"http://www.karissawhiting.com/cureit/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"A package to build and evaluate cure models","text":"","code":"library(smcure) library(ISwR) library(gtsummary) library(dplyr)  # Prepare Data -------------------------- mel <- ISwR::melanom %>%   mutate(status = case_when(status %in% c(1, 3) ~ 1,                              TRUE ~ 0)) %>%   mutate(thick_cat =                case_when(thick <= 129 ~ \"≤ 129\",                          thick <= 322 ~ \"less equal 322\",                          thick > 322 ~ \"greater 322\")) %>%   mutate(thick_cat = fct_relevel(thick_cat, \"≤ 129\", \"≤ 322\")) %>%   mutate(sex = case_when(sex == 2 ~ \"male\",                           sex == 1 ~ \"female\"),          ulc = case_when(ulc == 1 ~ \"present\",                           ulc == 2 ~ \"absent\"))  # Run Pipeline -------------------------- fit <- fit_cure(formula = Surv(days, status) ~ ulc + sex + thick_cat + thick ,                 data = mel) cure_nomogram(fit, prediction_time = 300) cure_calibration(fit, prediction_time = 300)   # Check Stability ---- Defunct # formula <- Surv(days, status) ~ ulc + sex # x <- multiple_mod_runs(formula, #                               nboot = 200, #                               eps = 0.0001, #                               num_repeats = 3, #                               data = mel) # x$model_results #  # x$var_surv_stab # x$p_surv_stab #  # x$var_cure_stab # x$p_cure_stab"},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_cureit.html","id":null,"dir":"Reference","previous_headings":"","what":"Broom methods for cureit objects — broom_methods_cureit","title":"Broom methods for cureit objects — broom_methods_cureit","text":"Broom methods cureit objects","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_cureit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Broom methods for cureit objects — broom_methods_cureit","text":"","code":"# S3 method for cureit tidy(x, exponentiate = FALSE, conf.int = FALSE, conf.level = 0.95, ...)"},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_cureit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Broom methods for cureit objects — broom_methods_cureit","text":"x smcure object created smcure::smcure() exponentiate Logical indicating whether exponentiate coefficient estimates. Defaults FALSE. conf.int Logical indicating whether include confidence interval tidied output. Defaults FALSE. conf.level Level confidence interval. Default matches smcure(conf.level=) (typically, 0.95) ... Additional arguments passed methods.","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_cureit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Broom methods for cureit objects — broom_methods_cureit","text":"tibble","code":""},{"path":[]},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_cureit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Broom methods for cureit objects — broom_methods_cureit","text":"","code":"cureit <- cureit(surv_formula = Surv(ttdeath, death) ~ marker, cure_formula = ~marker,  data = trial) #> ✖ There was an error evaluating the LHS of the formula. #> Warning: additional arguments ignored in stop() #> Error in rlang::eval_tidy(., data = data): object 'trial' not found  tidy(cureit) #> Error: No tidy method for objects of class function"},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_smcure.html","id":null,"dir":"Reference","previous_headings":"","what":"Broom methods for smcure objects — broom_methods_smcure","title":"Broom methods for smcure objects — broom_methods_smcure","text":"Broom methods smcure objects","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_smcure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Broom methods for smcure objects — broom_methods_smcure","text":"","code":"# S3 method for smcure tidy(x, exponentiate = FALSE, conf.int = FALSE, conf.level = 0.95, ...)"},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_smcure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Broom methods for smcure objects — broom_methods_smcure","text":"x smcure object created smcure::smcure() exponentiate Logical indicating whether exponentiate coefficient estimates. Defaults FALSE. conf.int Logical indicating whether include confidence interval tidied output. Defaults FALSE. conf.level Level confidence interval. Default matches smcure(conf.level=) (typically, 0.95) ... Additional arguments passed methods.","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_smcure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Broom methods for smcure objects — broom_methods_smcure","text":"tibble","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/broom_methods_smcure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Broom methods for smcure objects — broom_methods_smcure","text":"","code":"smcure <- smcure::smcure(Surv(ttdeath, death) ~ marker, cureform = ~marker,  data = trial, model = \"ph\") #> Program is running..be patient... #> Error in na.action(data): object 'trial' not found  tidy(smcure) #> Error in tidy(smcure): object 'smcure' not found"},{"path":"http://www.karissawhiting.com/cureit/reference/cureit-package.html","id":null,"dir":"Reference","previous_headings":"","what":"cureit: A package to build and evaluate cure models — cureit-package","title":"cureit: A package to build and evaluate cure models — cureit-package","text":"package (one paragraph).","code":""},{"path":[]},{"path":"http://www.karissawhiting.com/cureit/reference/cureit-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"cureit: A package to build and evaluate cure models — cureit-package","text":"Maintainer: Karissa Whiting karissa.whiting@gmail.com (ORCID) Authors: Teng Fei (ORCID)","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/cureit.html","id":null,"dir":"Reference","previous_headings":"","what":"Cure Model Regression — cureit","title":"Cure Model Regression — cureit","text":"Cure Model Regression","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/cureit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cure Model Regression — cureit","text":"","code":"# S3 method for formula cureit(surv_formula, cure_formula, data, conf.level = 0.95, nboot = 100, ...)  cureit(object, ...)  # S3 method for default cureit(object, ...)"},{"path":"http://www.karissawhiting.com/cureit/reference/cureit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cure Model Regression — cureit","text":"surv_formula formula Surv() LHS covariates RHS. cure_formula formula covariates cure fraction RHS data data frame conf.level confidence level. Default 0.95. nboot number bootstrap samples used inference. ... passed methods object input object","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/cureit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cure Model Regression — cureit","text":"cureit object","code":""},{"path":[]},{"path":"http://www.karissawhiting.com/cureit/reference/cureit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cure Model Regression — cureit","text":"","code":"cureit(surv_formula = Surv(ttdeath, death) ~ age + grade,  cure_formula = ~ age + grade,  data = trial) #> ✖ There was an error evaluating the LHS of the formula. #> Warning: additional arguments ignored in stop() #> Error in rlang::eval_tidy(., data = data): object 'trial' not found"},{"path":"http://www.karissawhiting.com/cureit/reference/nomogram_methods_cureit.html","id":null,"dir":"Reference","previous_headings":"","what":"Nomogram methods for cureit objects — nomogram_methods_cureit","title":"Nomogram methods for cureit objects — nomogram_methods_cureit","text":"Nomogram methods cureit objects","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/nomogram_methods_cureit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nomogram methods for cureit objects — nomogram_methods_cureit","text":"","code":"nomogram.cureit(x, survival = TRUE, cure = TRUE, time = NULL, ...)"},{"path":"http://www.karissawhiting.com/cureit/reference/nomogram_methods_cureit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nomogram methods for cureit objects — nomogram_methods_cureit","text":"survival Logical indicating whether output nomogram based survival submodel. Defaults TRUE. cure Logical indicating whether output nomogram based cured probability submodel. Defaults TRUE. time Numeric vector times obtain survival probability estimates ","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/nomogram_methods_cureit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nomogram methods for cureit objects — nomogram_methods_cureit","text":"tibble","code":""},{"path":[]},{"path":"http://www.karissawhiting.com/cureit/reference/nomogram_methods_cureit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nomogram methods for cureit objects — nomogram_methods_cureit","text":"","code":"c <- cureit(surv_formula = Surv(ttdeath, death) ~ age + grade,  cure_formula = ~ age + grade,  data = trial) #> ✖ There was an error evaluating the LHS of the formula. #> Warning: additional arguments ignored in stop() #> Error in rlang::eval_tidy(., data = data): object 'trial' not found  nomogram.cureit(x = c,time=300) #> Error in x$surv_formula: object of type 'builtin' is not subsettable"},{"path":"http://www.karissawhiting.com/cureit/reference/predict.cureit.html","id":null,"dir":"Reference","previous_headings":"","what":"Predicted survival probability by cure model — predict.cureit","title":"Predicted survival probability by cure model — predict.cureit","text":"Predicted survival probability cure model","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/predict.cureit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predicted survival probability by cure model — predict.cureit","text":"","code":"# S3 method for cureit predict(   object,   times = NULL,   probs = NULL,   newdata = NULL,   method = \"prob\",   ... )"},{"path":"http://www.karissawhiting.com/cureit/reference/predict.cureit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predicted survival probability by cure model — predict.cureit","text":"object input object times Numeric vector times obtain survival probability estimates probs Numeric vector quantiles obtain estimates newdata base::data.frame() tibble::tibble() containing original predictors used create x. Defaults NULL. method Output format predicted values: \"lp\" (linear predictor) \"prob\" (predicted probabilities). ... passed methods","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/predict.cureit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predicted survival probability by cure model — predict.cureit","text":"named list prediction estimates","code":""},{"path":[]},{"path":"http://www.karissawhiting.com/cureit/reference/predict.cureit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predicted survival probability by cure model — predict.cureit","text":"","code":"p <- cureit(surv_formula = Surv(ttdeath, death) ~ age,     cure_formula = ~ age,    data = trial) %>%    predict(times = 12, newdata = trial[1:10, ]) #> ✖ There was an error evaluating the LHS of the formula. #> Warning: additional arguments ignored in stop() #> Error in rlang::eval_tidy(., data = data): object 'trial' not found"},{"path":"http://www.karissawhiting.com/cureit/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. broom augment, glance, tidy dplyr %>% ggplot2 autoplot gtsummary add_n, add_nevent, add_p, inline_text survival Surv","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/trial.html","id":null,"dir":"Reference","previous_headings":"","what":"Results from a simulated study of two chemotherapy agents — trial","title":"Results from a simulated study of two chemotherapy agents — trial","text":"dataset containing baseline characteristics 200 patients received Drug Drug B.  Dataset also contains outcome tumor response treatment.","code":""},{"path":"http://www.karissawhiting.com/cureit/reference/trial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Results from a simulated study of two chemotherapy agents — trial","text":"","code":"trial"},{"path":"http://www.karissawhiting.com/cureit/reference/trial.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Results from a simulated study of two chemotherapy agents — trial","text":"data frame 200 rows--one row per patient trt Chemotherapy Treatment age Age marker Marker Level (ng/mL) stage T Stage grade Grade response Tumor Response death Patient Died ttdeath Months Death/Censor","code":""}]
